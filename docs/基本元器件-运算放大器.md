---
id: 基本元器件-运算放大器
title: 基本元器件 - 运算放大器
---

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220606212720.png)

俗话说，运算放大器就是模电的终极目标。运算放大器（Operational Amplifier）是一种能够实现电信号（电压/电流/功率）放大的器件。不仅仅如此，它还可以作为缓冲器、滤波器、各种运算功能（积分、微分、乘法、对数）等。

运放拥有一对差分输入端（同相 $u_+$ 与反相 $u_-$ 电压输入），一个单端输出端 $u_o$，一对供电引脚 $V_+$ 和 $V_-$（大多数时候不画出）。它通过同相 $u_+$ 和反相 $u_-$ 电压进行输入，在内部进行比较运算，并通过输出端 $u_o$ 放大输出。输出端 $u_o$ 输出阻抗为 0，流出的电流由正电源端子 $V_+$ 提供，流入的电流由负电源端子 $V_-$ 提供。

当运算放大器工作在 **线性区域** 的时候，满足关系：

$$
u_o=A_{uo}(u_+-u_-)
$$

其中，$A_{uo}$ 称为运算放大器的 **开环电压增益**（u 代表电压，o 代表 open），一般无穷大。

## 运放的工作状态

集成运放的电压传输特性如下图所示：

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20210819134709.png)

图中分为线性区和非线性区：

- 工作在线性放大区：斜线的斜率为开环电压增益。
- 工作在非线性区：即饱和状态，在图中是左右两端的水平线，输出电压为 $-U_{om}$（负电源端子 $V_-$ 的电压），或 $+U_{om}$（等同于正电源端子 $V_+$ 的电压）。

## 运放的供电

运放的供电方式一般分 **单电源** 或 **双电源**。单电源下，$V_+$ 接正电压，$V_-$ 接地。双电源一般指 $V_+$ 接正电压，$V_-$ 接负电压。不同的供电方式带来了不同的频率性能和输入输出的范围。

除此之外，运放可以工作在正负电源（$V_+$/$V_-$）不对称的情况下（比如 $V_+$ 为 5V，$V_-$ 为 -3V），它并不需要知道地的位置，但依然可以正常工作。

运放的轨至轨，指的是输出的电压能达到电源电压。比如，如果是一个非轨对轨的运放，假如供电为 0~5V，输出有可能只能达到 0.7~4.3V，而轨对轨输出则可以 0~5V。

## 运放的虚短与虚断

### 虚短

虚短是从电压的角度看的，**在负反馈的条件下，正负两个输入端电压基本保持相等，近似于短路（但并不是真正短路），称为虚短。**

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220606211723.png)

参考负反馈的电路，可以看到，如果同相输入端电压略高于反相输入端，则负反馈电路会拉高反相输入端电压，直到与同相输入端电压相当；反之，如果同相输入端电压略低于反相输入端，则反相输入端电压也会跟随到此时同相输入端的电压。

### 虚断

虚断是从电流的角度看的，**运放两个输入端输入阻抗很大，流入的的电流只有微安级别，近似为无电流流入也就是断路，称为虚断。**

注：运放两个输入端输入阻抗很大，是对于一般情况而言。也有特例，比如电流反馈运放。

## 常用运放电路

因为运放的开环电压增益无穷大，所以需要通过特殊的电路结构来实现合适的放大效果。

### 电压跟随器

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220606221550.png)

电压跟随器（也称 Buffer）用于高阻抗信号源和低阻性负载之间的缓冲。

### 同相放大器

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220606221659.png)

同相放大器输出与输入是同相的，可将信号同相放大。

效果：通过调节 $R_G$ 与 $R_F$ 的阻值，使 $V_{OUT}$ 与 $V_{IN}$ 呈正比放大的关系。

原理：

1. 因为虚短，所以 $V_- = V_{IN}$
2. 因为续断，所以 $V_-$ 端输入电流可忽略不计，所以 $I_{R_G}=I_{R_F}$，根据欧姆定律，$\frac{0–V_-}{R_G}=\frac{V_- - V_{OUT}}{R_F}$，得出 $V_{OUT}=V_{IN}(\frac{R_F}{R_G}+1)$。

### 反相放大器

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220606221844.png)

反相放大器输出与输入是反相的，可将信号放大并反转输出。

### 电压减法器 / 差动放大器

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220606222121.png)

电压减法器 / 差动放大器可放大两个电压之差，抑制共模电压。

### 电压加法器

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220606222430.png)

电压加法器用于多个电压求和。

### 低通滤波器 / 积分器

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220606222539.png)

低通滤波器 / 积分器用于对信号的低通滤波，限制信号带宽。

### 高通滤波器 / 微分器

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220606222649.png)

高通滤波器 / 微分器用于隔离直流信号、放大交流信号。

### 差分放大器

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220606222820.png)

差分放大器用于从差分或单端信号源驱动差分输入 ADC。

### 仪表放大器

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220606223014.png)

仪表放大器用于放大低电平差分信号，抑制共模信号。其中，$V_{IN}$ 为两个输入端之间的电压差值

## 运放的参数

### 开环电压增益

开环电压增益 $A_{uo}$ 表示运放工作在线性放大区下的放大倍数，用 dB 表示。

### 失调 / 偏移电压

失调电压 $V_{OS}$（Input Offset Voltage）有时候也称输入偏置电压。指的是运放输入端为 0V 的条件下，理想运放输出应为零，但实际运放输出不为零，则实际输出电压除以增益得到的等效输入电压称为失调电压。失调电压实际上反映了运放内部的对称性。

失调电压的影响因素有温度（对应失调电压的温漂）、电源波动（对应电源抑制比）。失调电压是直流偏置，会叠加在输出上，如果输出为交流信号，只需考虑叠加后是否会超过供电电压导致信号失真。

我们知道，同相放大器的放大公式是 $V_{OUT}=V_{IN}(\frac{R_F}{R_G}+1)$，如果考虑失调电压的影响，那么输出为 $V_{OUT}=(V_{IN}+V_{OS})(\frac{R_F}{R_G}+1)$。

### 失调电压温漂

失调电压温漂 $T_C V_{OS}$ 表示输入失调电压变化量与温度变化量的比值（芯片工作温度范围内）。

失调电压温漂会导致失调电压发生变化，影响运放输出。

### 输入失调电流

失调电流 $I_{OS}$ 指当运放输出为零时，两个输入端流入 / 流出直流电流的差值。失调电流受制造工艺的影响。

$$
I_{OS}=I_{B+}+I_{B-}
$$

### 输入偏置电流

偏置电流 $I_B$ 指当运放输出为零时，两个输入端流入 / 流出直流电流的均值。

$$
I_B=\frac{I_{B+}+I_{B-}}{2}
$$

偏置电流受制造工艺的影响，双极型工艺输入偏置电流在 10nA~1μA 之间；场效应管工艺输入偏置电流一般低于 1nA。

可通过在同相端增加匹配电阻，消除误差。

### 增益带宽积

增益带宽积 $GBW$（Gain–bandwidth product，GBWP/GBW/GBP/GB）指在某频率（一般为运放增益衰减 -3dB）下开环电压增益与测量频率（带宽）的乘积。

$$
GBW=A_{uo}*BW
$$

增益带宽积受运放内结电容的频率响应特性影响。在设计中如果发现高频信号增益大小受限，则必须选用 $GBP$ 参数较大的运放。

### 共模抑制比

共模抑制比 $CMRR$（Common Mode Rejection Ratio，CMRR）指的是共模电压范围（$CMVR$）与此范围内的输入失调电压（$\Delta V_{O_{OS}}$）变化的比值，结果用 dB 表示。

$$
CMRR=20log(\frac{CMVR}{V_{O_{OS}}})
$$

共模抑制比受电路对称性（失调电流等参数）、线性工作范围的影响。此参数是为了表示差分放大电路抑制共模信号、放大差模信号的能力。共模抑制比高，意味着可以更加抑制共模输入的干扰信号，提高信噪比。

### 转换速度

转换速度 $SR$（Slew Rate，SR）也称压摆率。表示在大信号条件下，输出电压变化的最大速率。

$$
SR=2 \pi f V_{pk}
$$

其中，$f$ 为最大频率（一般为带宽），$V_{pk}$ 是放大输出信号的最大峰峰值。

转换速度用于评价运放对信号变化速度的适应能力，是衡量运放在大幅度信号作用时工作速度的参数。当输入信号变化斜率的绝对值小于 SR 时，输出电压才按线性规律变化。

### 其他参数

- 共模电压范围 $CMVR$：也称为输入电压范围，如果两个输入端输入电压超出此范围，输出将发生削波或过大非线性现象。
- 全功率带宽：指在单位增益下测得的最大频率，在此频率下可以得到一个正弦信号的额定输出电压，且压摆率不会导致信号失真。
- 工作电源电压范围：运放正常工作时，能施加的电源电压范围。
- 电源抑制比 $PSRR$：电源电压的变化与输入失调电压的变化之比，结果用 dB 表示。
- 建立时间：施加一个阶跃输入后，放大器建立至某一预定的精度水平或输出电压百分比所需的时间。
- 电源电流：放大器空载工作时电源电压需提供的电流。

## 根据参数选型

根据参数挑选运放，大致有以下步骤：

1. 判断输入信号类型：直流需注意失调电流、失调电压；差分输入需判断是否选择仪表放大器；高频交流信号需注意增益带宽积 $GBW$ 和转换速度 $SR$。
2. 判断精度要求：需要考虑失调电压、偏置电流、失调电流、共模抑制比对精度影响，判断是否选用高阻运放或精密运放。
3. 判断环境条件：需要注意运放的温度量程，注意温漂，注意电源纹波抑制比 $PSRR$ 的影响。
4. 判断其他要求：通道数、单 / 双电源供电（轨对轨信号失真小，可满幅值输出）、功率大小（高压 / 大电流情况下）。

### 根据用途选型

按照用途，运放大致分为：

- 通用运放：对各类要求均不高的器件，注重通用与性价比。
- 音频运放：超低噪声（高保真）、低功耗（高续航）。
- 高速运放（$GBW ≥ 50 MHz$）：低功耗、低噪声 SNR。
- 功率运放：高电压、大电流。
- 精密运放（$V_{os} < 1mV$）：低失调电压，或低温漂、低噪声、低功耗、宽带宽。

## 参考与致谢

- [我懂了！运算放大器的工作原理讲得好！](https://mp.weixin.qq.com/s/Zc9J0nQhVcpZTCbujJf5SQ)
- [三个经典的运放电路](https://mp.weixin.qq.com/s/kGG7MhBRJPRi3rt50yMWwQ)
- [运算放大器选型指南](https://ez.analog.com/cfs-file/__key/telligent-evolution-components-attachments/00-595-00-00-00-09-21-14/attachment.pdf)
- [运放选型速记指南](https://mp.weixin.qq.com/s?__biz=MzAwNTA3MTE0OQ==&mid=100000105&idx=1&sn=cf052524b2e808967cb1aa5583410b08&scene=19#wechat_redirect)
- [TI 运算放大器选型指南](https://www.nuedc-training.com.cn/index/live/playback/live_id/14.html)
- [运算参数的详细解释和分析【TI FAE 分享】](http://mouser.eetrend.com/files/2017-07/%E8%AE%A8%E8%AE%BA%E7%89%88%E4%B8%BB%E9%A2%98/100007054-22676-dian_ya_.pdf)

> 本篇文章受 [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by/4.0/deed.zh) 协议保护，转载请注明出处。

