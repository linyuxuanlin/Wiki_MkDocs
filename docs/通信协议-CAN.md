---
id: é€šä¿¡åè®®-CAN
title: é€šä¿¡åè®® - CAN ğŸš§
---

CANï¼ˆController Area Networkï¼‰æ˜¯ä¸€ç§å¤šä¸»æ–¹å¼çš„ä¸²è¡Œé€šè®¯æ€»çº¿ã€‚åŸºæœ¬è®¾è®¡è§„èŒƒè¦æ±‚æœ‰é«˜çš„ä½é€Ÿç‡ã€é«˜æŠ—ç”µç£å¹²æ‰°æ€§ï¼Œè€Œä¸”èƒ½å¤Ÿæ£€æµ‹å‡ºäº§ç”Ÿçš„ä»»ä½•é”™è¯¯ï¼Œå½“ä¿¡å·ä¼ è¾“è·ç¦»è¾¾åˆ° 10Km æ—¶ CAN-bus ä»å¯æä¾›é«˜è¾¾ 5Kbps çš„æ•°æ®ä¼ è¾“é€Ÿç‡ã€‚

## CAN ç”µè·¯è®¾è®¡

CAN æ¨¡å—çš„è®¾è®¡ï¼Œæ˜¯åŸºäº CAN èŠ¯ç‰‡ï¼Œå¯¹ä¸²è¡Œä¿¡å·ï¼ˆRX/TXï¼‰ä¸ CAN å·®åˆ†ä¿¡å·ï¼ˆCANH/CANLï¼‰è¿›è¡Œäº’ç›¸è½¬æ¢ã€‚ä»¥ä¸‹æ˜¯ä¸¤ç§è¾ƒä¸ºå¸¸ç”¨çš„ CAN æ”¶å‘å™¨ã€‚

### åŸºäº TJA1050

å®Œæ•´èµ„æ–™è¯·è§ [**Modularity_of_Functional_Circuit/ æ¨¡å—è®¾è®¡ - CAN é€šä¿¡ / åŸºäº TJA1050**](https://github.com/linyuxuanlin/Modularity_of_Functional_Circuit/tree/master/%E6%A8%A1%E5%9D%97%E8%AE%BE%E8%AE%A1-CAN%E9%80%9A%E4%BF%A1/%E5%9F%BA%E4%BA%8ETJA1050)

#### ç‰¹æ€§

- ä¾›ç”µï¼š**5 V**ï¼ˆ4.75-5.25 Vï¼‰
- é«˜é€Ÿç‡ï¼š60 Kbps-1 Mbps
- å®Œå…¨ç¬¦åˆ ISO 11898 æ ‡å‡†
- ä½ç”µç£è¾å°„ï¼ˆEMEï¼‰
- å…·æœ‰è´·æ¬¾è¾“å…¥èŒƒå›´çš„å·®åŠ¨æ¥æ”¶å™¨ï¼Œå¯æŠ—ç”µç£å¹²æ‰°ï¼ˆEMIï¼‰
- å¯ä»¥è¿æ¥è‡³å°‘ 110 ä¸ªèŠ‚ç‚¹
- æ²¡æœ‰ä¸Šç”µçš„èŠ‚ç‚¹ä¸ä¼šå¯¹æ€»çº¿é€ æˆå¹²æ‰°

#### å·¥ä½œæ¨¡å¼

TJA1050 æœ‰ä¸¤ç§å·¥ä½œæ¨¡å¼ï¼ˆé«˜é€Ÿ / é™éŸ³ï¼‰ï¼Œç”±å¼•è„š Sï¼ˆRSï¼‰ æ¥æ§åˆ¶ã€‚

**é«˜é€Ÿæ¨¡å¼**ï¼š

é«˜é€Ÿæ¨¡å¼æ˜¯æ™®é€šçš„å·¥ä½œæ¨¡å¼ï¼Œå°†å¼•è„š S æ¥åœ°å³å¯è¿›å…¥è¯¥æ¨¡å¼ã€‚å› å¼•è„š S å†…ç½®ä¸‹æ‹‰ï¼Œæ‰€ä»¥å³ä½¿å¤–éƒ¨æ²¡æœ‰è¿æ¥ï¼Œé»˜è®¤ä¹Ÿæ˜¯é«˜é€Ÿæ¨¡å¼ã€‚

åœ¨è¿™ä¸ªæ¨¡å¼ä¸­ï¼Œæ€»çº¿è¾“å‡ºä¿¡å·æœ‰å›ºå®šçš„æ–œç‡ï¼Œå¹¶ä»¥æœ€å¿«çš„é€Ÿåº¦åˆ‡æ¢ï¼Œé€‚åˆäºæœ€å¤§çš„ä½
é€Ÿç‡å’Œï¼Œæˆ–æœ€å¤§çš„æ€»çº¿é•¿åº¦ï¼Œæ­¤æ—¶å®ƒçš„æ”¶å‘å™¨å¾ªç¯å»¶è¿Ÿæœ€å°ã€‚

**é™éŸ³æ¨¡å¼**ï¼š

é™éŸ³æ¨¡å¼ä¸­ï¼Œå‘é€å™¨æ˜¯ç¦èƒ½çš„ï¼Œä¸ç®¡ TXD çš„è¾“å…¥ä¿¡å·ï¼Œæ‰€ä»¥è¿è¡Œåœ¨éå‘é€çŠ¶æ€ä¸­æ¶ˆè€—çš„ç”µæºç”µæµï¼Œå’Œåœ¨éšå½¢çŠ¶æ€ä¸­æ˜¯ä¸€æ ·çš„ã€‚å°†å¼•è„š S æ¥é«˜ç”µå¹³å°±å¯ä»¥è¿›å…¥é™éŸ³æ¨¡å¼ã€‚

é™éŸ³æ¨¡å¼ä¸­ï¼ŒèŠ‚ç‚¹å¯ä»¥è¢«è®¾ç½®æˆå¯¹æ€»çº¿ç»å¯¹æ— æºçš„çŠ¶æ€ï¼Œæ­¤æ—¶å¾®æ§åˆ¶å™¨ä¸å†ç›´æ¥è®¿é—® CAN æ§åˆ¶å™¨ï¼ŒTJA1050 å°†ä¼šé‡Šæ”¾æ€»çº¿ã€‚

#### èŠ¯ç‰‡ç®¡è„š

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20210607102222.png)

#### å‚è€ƒç”µè·¯

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20210607115611.png)

å¦‚å›¾ï¼ŒCAN åè®®æ§åˆ¶å™¨ï¼ˆä¾‹å¦‚å•ç‰‡æœºï¼‰é€šè¿‡ä¸²è¡Œçº¿ï¼ˆRX/TXï¼‰è¿æ¥åˆ°æ”¶å‘å™¨ï¼Œåœ¨æ”¶å‘å™¨ä¸Šè½¬æ¢ä¸º CAN ä¿¡å·ï¼ˆCANH/CANLï¼‰ï¼Œå¹¶é€šè¿‡å¼•è„š S æ¥é€‰æ‹©é«˜é€Ÿ / é™éŸ³æ¨¡å¼ã€‚

### åŸºäº SN65HVD230

å®Œæ•´èµ„æ–™è¯·è§ [**Modularity_of_Functional_Circuit/ æ¨¡å—è®¾è®¡ - CAN é€šä¿¡ / åŸºäº SN65HVD230**](https://github.com/linyuxuanlin/Modularity_of_Functional_Circuit/tree/master/%E6%A8%A1%E5%9D%97%E8%AE%BE%E8%AE%A1-CAN%E9%80%9A%E4%BF%A1/%E5%9F%BA%E4%BA%8ESN65HVD230)

#### ç‰¹æ€§

- ç”± **3.3 V** å•ç”µæºä¾›ç”µ
- å¯ä»¥è¿æ¥è‡³å°‘ 120 ä¸ªèŠ‚ç‚¹
- ä½ç”µæµå¾…æœºæ¨¡å¼
- é€Ÿç‡ï¼šæœ€é«˜ 1 Mbps

#### å·¥ä½œæ¨¡å¼

SN65HVD230 æœ‰ä¸‰ç§å·¥ä½œæ¨¡å¼ï¼ˆé«˜é€Ÿ / æ–œç‡ / é™éŸ³ï¼‰ï¼Œç”±å¼•è„š Sï¼ˆRSï¼‰ æ¥æ§åˆ¶ã€‚ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨é«˜é€Ÿæ¨¡å¼ã€‚

**é«˜é€Ÿæ¨¡å¼**ï¼š

å°† Rs å¼ºä¸‹æ‹‰è‡³ GND ä»¥å¯ç”¨é«˜é€Ÿæ¨¡å¼ã€‚

**æ–œç‡æ¨¡å¼**ï¼š

ä½¿ç”¨ 10k è‡³ 100k ä¹‹é—´çš„ç”µé˜»ï¼Œå°† Rs ä¸‹æ‹‰è‡³ GNDã€‚å…·ä½“ç”µé˜»é˜»å€¼ä¸é€Ÿç‡çš„å…³ç³»ï¼Œè¯·å‚è€ƒæ•°æ®æ‰‹å†Œã€‚

**ä½åŠŸè€—æ¨¡å¼**ï¼š

å°† Rs å¼ºä¸Šæ‹‰è‡³ 3.3V

#### èŠ¯ç‰‡ç®¡è„š

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20210607155539.png)

#### å‚è€ƒç”µè·¯

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20210607171051.png)

PESD2CAN æ˜¯ CAN ä¸“ç”¨çš„ ESD ä¿æŠ¤äºŒæç®¡ï¼Œä¿æŠ¤èŠ¯ç‰‡å…å—é™ç”µå’Œå…¶ä»–ç¬å˜å› ç´ çš„æŸå®³ã€‚

å‚è€ƒçš„ PCB å¸ƒå±€å¦‚ä¸‹ï¼š

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20210607171427.png)

### TJA1050 ä¸ SN65HVD230 çš„å¼‚åŒ

TJA1050 ä¸ SN65HVD230 ä¸»è¦çš„åŒºåˆ«æ˜¯å·¥ä½œç”µå‹çš„ä¸åŒï¼ŒTJA1050 å·¥ä½œåœ¨ 5 V ç¯å¢ƒä¸‹çš„ï¼Œè€Œ SN65HVD230 å·¥ä½œåœ¨ 3.3 V ç¯å¢ƒä¸‹ã€‚

å…±åŒçš„æ³¨æ„äº‹é¡¹:

- CAN ä¿¡å·çº¿åœ¨ PCB å¸ƒçº¿çš„æ—¶å€™ï¼Œè¦èµ°å·®åˆ†çº¿ã€‚
- æœ«ç«¯ç”µé˜»ä¸€èˆ¬åœ¨ CAN çº¿èµ·å§‹ç«¯å’Œæœ«ç«¯æ‰éœ€è¦ä½¿ç”¨ï¼Œä¸­é—´ç«¯ä¸éœ€è¦å¤–åŠ ã€‚
- å¦‚æœéœ€è¦å¯¹æ€»çº¿çš„å…±æ¨¡ç”µå‹è¿›è¡Œè¿‡æ»¤å’Œç¨³å®šï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åˆ†ä½“å¼æœ«ç«¯ç”µé˜»ï¼ˆå¦‚ä¸Šæ–‡æ‰€ç¤ºï¼Œåˆ†ä¸ºä¸¤ä¸ª 60 Î© ç”µé˜»ï¼Œä¸­é—´åŠ è¿æ¥åˆ°åœ°çš„ç”µå®¹ï¼‰ã€‚

## CAN æ¥å£ EMC è®¾è®¡

CAN é€šè®¯ä¸­ï¼Œç”µç¼†å®¹æ˜“è€¦åˆå¤–éƒ¨å¹²æ‰°ï¼Œå¯¹ä¿¡å·ä¼ è¾“é€ æˆå½±å“ï¼Œç”šè‡³ä¼šé€šè¿‡æ¥å£ç”µè·¯å½±å“å†…éƒ¨æ ¸å¿ƒæ•æ„Ÿç”µè·¯ã€‚

CAN æ¥å£é˜²æŠ¤å™¨ä»¶ä¸»è¦åŒ…æ‹¬ï¼šæ»¤æ³¢ç”µå®¹ã€å…±æ¨¡ç”µæ„Ÿã€è·¨æ¥ç”µå®¹ã€TVS ç®¡ã€‚

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20211220134905.png)

- æ»¤æ³¢ç”µå®¹ $C_1,C_2$ï¼šç”¨äºç»™å¹²æ‰°æä¾›ä½é˜»æŠ—çš„å›æµè·¯å¾„ï¼Œé€‰å–èŒƒå›´ä¸º 22pF~1000pFï¼Œå…¸å‹å€¼ä¸º 100pFã€‚
- å…±æ¨¡ç”µæ„Ÿ $L_1$ï¼šç”¨äºæ»¤é™¤å·®åˆ†çº¿ä¸Šçš„å…±æ¨¡å¹²æ‰°ï¼Œé˜»æŠ—é€‰å–èŒƒå›´ä¸º 120Î©/100MHz~2200Î©/100MHzï¼Œå…¸å‹å€¼ä¸º 600Î©/100MHzã€‚
- è·¨æ¥ç”µå®¹ $C_3,C_4$ï¼šç”¨äºæ¥å£åœ°å’Œæ•°å­—åœ°ä¹‹é—´çš„éš”ç¦»ï¼Œå…¸å‹å€¼ä¸º 1000pF/2kVã€‚
- TVS ç®¡ $D_1,D_2$ï¼šç”¨äºé˜² ESD æˆ–ç¬é—´çš„é«˜èƒ½é‡å†²å‡»ï¼Œä½¿å…¶çº¿è·¯çš„ç”µå‹é’³ä½åœ¨ä¸€ä¸ªé¢„å®šçš„æ•°å€¼å†…ï¼Œä»è€Œç¡®ä¿åé¢çš„ç”µè·¯å™¨ä»¶å…å—ç¬æ€é«˜èƒ½é‡çš„å†²å‡»è€ŒæŸåã€‚

## å‚è€ƒä¸è‡´è°¢

- [æ¥å£ç”µè·¯çš„é˜²æŠ¤è®¾è®¡](https://blog.csdn.net/weixin_40877615/article/details/94381422)

> æœ¬ç¯‡æ–‡ç« å— [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by/4.0/deed.zh) åè®®ä¿æŠ¤ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

