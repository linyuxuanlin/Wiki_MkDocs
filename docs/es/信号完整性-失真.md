# Integridad de la se帽al - Distorsi贸n 

Los problemas de distorsi贸n de la se帽al en una red 煤nica se dividen en tres aspectos: **reflexi贸n, problemas de calidad de la se帽al y errores de sincronizaci贸n**.

## Reflexi贸n

La causa fundamental de la reflexi贸n es un **cambio en la impedancia instant谩nea en la direcci贸n de avance de la se帽al**. Las posibles fuentes de cambio de impedancia incluyen: el extremo del cable de interconexi贸n, cambios en el 谩rea de la secci贸n transversal del cable, cambios de capa, brechas en el plano de retorno, componentes adicionales como conectores, y la topolog铆a de la disposici贸n de los cables.

### Fuentes de reflexi贸n

#### Reflexi贸n en puntos de cambio de impedancia

Cuando hay un cambio abrupto en la impedancia de la l铆nea de transmisi贸n, parte de la se帽al se reflejar谩 en la direcci贸n opuesta y otra parte continuar谩 transmiti茅ndose, pero con una amplitud modificada. El valor de la se帽al reflejada depende de la cantidad de cambio en la impedancia instant谩nea. Si asumimos que la impedancia instant谩nea en la primera regi贸n es $Z_1$ y en la segunda regi贸n es $Z_2$, entonces el coeficiente de reflexi贸n, que es la relaci贸n entre la amplitud de la se帽al reflejada y la amplitud de la se帽al incidente, se calcula de la siguiente manera:

$$
\rho=\frac{V_{reflejada}}{V_{incidente}}=\frac{Z_2-Z_1}{Z_2+Z_1}
$$

Se puede observar que cuanto mayor sea la diferencia de impedancia entre las dos regiones, mayor ser谩 la cantidad de se帽al reflejada. Por ejemplo, si una se帽al de 1V se propaga a lo largo de una l铆nea de transmisi贸n con una impedancia caracter铆stica de 50惟 y entra en una regi贸n con una impedancia caracter铆stica de 75惟, el coeficiente de reflexi贸n se calcula como 20%, lo que significa que la tensi贸n reflejada ser谩 de 0.2V.

#### Reflexi贸n en cargas resistivas

La terminaci贸n de la l铆nea de transmisi贸n puede tener tres casos especiales: circuito abierto, cortocircuito y coincidencia de impedancia. Supongamos que la impedancia caracter铆stica de la l铆nea de transmisi贸n es de 50惟 y la tensi贸n incidente es de 1V, y analicemos cada caso:

- En el caso de un circuito abierto, la impedancia en el extremo es infinita y el coeficiente de reflexi贸n tiende a 1, lo que significa que toda la se帽al incidente se reflejar谩 en la direcci贸n de la fuente. La suma de las tensiones incidente y reflejada en el punto de circuito abierto ser谩 de 2V.

- En el caso de un cortocircuito (es decir, cuando la impedancia en el extremo es 0), el coeficiente de reflexi贸n ser谩 -1. Cuando la se帽al incidente llegue al extremo lejano, se generar谩 una se帽al reflejada de -1V, que se propagar谩 hacia la fuente. Por lo tanto, la tensi贸n en este punto ser谩 de 0V.

- En el caso de una coincidencia de impedancia (es decir, cuando la impedancia en el extremo coincide con la impedancia caracter铆stica de la l铆nea de transmisi贸n, que es de 50惟), el coeficiente de reflexi贸n ser谩 0, lo que significa que no habr谩 tensi贸n reflejada. La tensi贸n en el extremo ser谩 煤nicamente la se帽al incidente.

En general (con una impedancia de 50惟), la relaci贸n entre la impedancia en la regi贸n 2 y el coeficiente de reflexi贸n se muestra en el siguiente gr谩fico:

![](https://media.wiki-power.com/img/20221210182554.png)

Cuando la impedancia en la regi贸n 2 es menor que la impedancia en la regi贸n 1, el coeficiente de reflexi贸n ser谩 negativo y la tensi贸n reflejada ser谩 negativa. Por ejemplo, si la carga resistiva en el extremo es de 25惟, el coeficiente de reflexi贸n ser谩 -0.33, lo que significa que se reflejar谩 una tensi贸n de -0.33V hacia la fuente, y la tensi贸n real en el extremo ser谩 de 1+(-0.33)=0.67V.

### Diagrama de rebote

Si conocemos el retardo de la l铆nea de transmisi贸n, las impedancias en cada regi贸n por las que pasa la se帽al y el voltaje inicial del controlador, podemos calcular el voltaje en cada superficie de reflexi贸n o en cualquier momento dado.

Supongamos que el voltaje de la fuente del controlador es de 1V, con una resistencia interna de 10惟, y que el extremo de la l铆nea de transmisi贸n es un circuito abierto. Podemos calcular el siguiente diagrama y curva de rebote utilizando la f贸rmula de reflexi贸n:

![](https://media.wiki-power.com/img/20221210182654.png)

![](https://media.wiki-power.com/img/20221210182717.png)

### Formas de manifestaci贸n de la reflexi贸n

La reflexi贸n generalmente se manifiesta como sobrepico, subpico y oscilaci贸n.

#### Sobrepico

![](https://media.wiki-power.com/img/20211220091443.png)

El sobrepico se refiere al primer pico de oscilaci贸n, que puede ser positivo o negativo. El riesgo es que pueda da帽ar los dispositivos (superando el voltaje de alimentaci贸n o cayendo por debajo del voltaje de tierra). Adem谩s, el sobrepico puede convertirse en una fuente de interferencia y causar crosstalk en otros dispositivos. El subpico puede hacer que el voltaje negativo en los pines polarice directamente el sustrato PN (diodo par谩sito), lo que puede provocar una corriente alta y una apertura del circuito.

#### Oscilaci贸n (rebote)

![](https://media.wiki-power.com/img/20211220094236.png)

El rebote se refiere a m煤ltiples cruces de los niveles de voltaje cr铆ticos, mientras que la oscilaci贸n implica m煤ltiples ciclos antes de que el voltaje regrese a su nivel normal.

El riesgo del rebote es similar al del sobrepico m煤ltiple, ya que se encuentra en un estado incierto entre los niveles alto y bajo. La causa de esto es una mala coincidencia de impedancias (demasiado alta o demasiado baja).

### M茅todos para solucionar la reflexi贸n

La soluci贸n a la reflexi贸n consiste en mantener la impedancia de los cables de interconexi贸n lo m谩s constante posible. A continuaci贸n, se presentan algunas medidas espec铆ficas:

1. Use interconnects with controllable impedance.
2. Increase resistance matching, the recommended practice is to use series resistors at the beginning or parallel resistors at the end.
3. Follow wiring rules that maintain a constant impedance along the line topology and minimize branch length.
4. Fine-tune the geometric characteristics of the lines, such as avoiding right angles or sharp angles.
5. Route the PCB traces away from sources of interference and coupling paths.

## Timing Errors

The time delay difference between two or more signal paths is called skew. When there is unexpected skew between signal lines and clock lines, it can lead to false triggering and logic errors. When there is skew between differential lines, some differential signals may become common-mode signals, causing distortion.

## References and Acknowledgments

- "Signal Integrity and Power Integrity Analysis"
- "Signal Integrity Revealed - Dr. Yu's SI Design Notes"
- [What Every PCB Designer Should Know - Crosstalk Explained (with Eric Bogatin)](https://www.youtube.com/watch?v=EF7SxgcDfCo)
- "Hardware Signal Quality SI Test Specification"
- [Analysis of Crosstalk in Transmission Lines](https://blog.csdn.net/weixin_40877615/article/details/95329866)

> Direcci贸n original del art铆culo: <https://wiki-power.com/>  
> Este art铆culo est谩 protegido por la licencia [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by/4.0/deed.zh). Si desea reproducirlo, por favor indique la fuente.

Unfinished draft :

![](https://media.wiki-power.com/img/20211220093258.png)

The slow generation of signal edges can also be caused by insufficient driving capability or excessive load (e.g., too high link impedance).

The methods to solve the slow generation of signal edges are:

1. Increase the driving capability.
2. Reduce the load.

Due to insufficient driving or excessive load, the slow generation of signal edges is often accompanied by a low signal amplitude.

## Rise Edge Degradation

### Adverse Effects of Lossy Lines

When a signal with fast-changing edges passes through a section of actual transmission line, the rise edge will be elongated:

![](https://media.wiki-power.com/img/20220105174702.png)

The signal quality issues caused by rise edge degradation are due to frequency-dependent losses in the wire/dielectric. These losses are greater at high frequencies than at low frequencies, resulting in slow signal edges. When the rise edge degrades to near the unit interval of the signal, 1 bit of information will leak into the next or even several bits, causing data sampling errors. This effect is called intersymbol interference (ISI) and is the main cause of problems when the data rate is greater than or equal to 1Gbps.

If the rise edge degradation causes the rise edge to elongate close to the unit interval, intersymbol interference may occur:

![](https://media.wiki-power.com/img/20220110093600.png)

The quality assessment of high-speed signals can be done using an eye diagram, which can measure the bit error rate (the left diagram shows a slight loss, while the right diagram shows a larger loss):

![](https://media.wiki-power.com/img/20220110104943.png)

### Losses in Transmission Lines

When a signal propagates along a transmission line, there are five ways in which energy is lost at the receiving end:

1. Radiation loss
2. Coupling to adjacent traces
3. Impedance mismatch
4. Wire loss
5. Dielectric loss

#### Wire Loss (Wire Resistance and Skin Effect)

> Este post est谩 traducido usando ChatGPT, por favor [**feedback**](https://github.com/linyuxuanlin/Wiki_MkDocs/issues/new) si hay alguna omisi贸n.
